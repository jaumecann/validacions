<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" >
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>signup</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--Any additional css? -->
    <link href="https://fonts.googleapis.com/css?family=Anton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Contrail+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Bowlby+One&display=swap" rel="stylesheet">

   
   <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
  
</head>

<style>


:root {
--main:  #d28a04;
--second: black; --third: #ffffcc;
--maingray: #e6e4e4;
--mybrown: #b6977a;
--darkbrown: #570202;
}
    

.wrong {
color: rgb(184, 2, 2);
}

.form-style {
background-color: var(--mybrown);
}

.text-field {
width: 50%;
}

label, button {
font-family: 'Contrail One', cursive;
}

.signup-style {
border: 2px solid var(--main);
}

.passwrd {
width: 250px;
}

.dropdown {
width: 75%;
}

.error {
color: orangered;
font-size: .8em;
}

.error2 {
color: orangered;
font-size: .8em;
}

.correcto, .incorrecto {
width: 400px;
color: white;
font-size: 1.2em;
font-weight: 900;
display: none;
}

</style>

<body>

<div class="container">
    <div class="col8 mt-5 signup-style rounded">
        <form novalidate id="form-login" class="p-5">
            
            <div class="form-group text-field">
              <label for="InputEmail">Email</label>
              <input type="email" class="form-control" name="login-email" placeholder="Introduce email">
              

            <div class="d-flex my-3">
                <div class="form-group ">
                    <label for="InputPassword">Password</label>
                    <input type="password" 
                    id="passorig" class="form-control passwrd" name="login-password" placeholder="Password">
                </div>    
                  <div class="form-group ml-3">
                    <label for="InputPassword">Repite Password</label>
                    <input type="password" class="form-control passwrd" name="repeat-password" placeholder="Password">
                    
                </div>
            </div>

              <div class="form-group">
              <label for="InputProvince">Provincia</label>
              <div class="dropdown">
                
                    <select class="custom-select" id="groupSelect" name="login-prov">
                        <option selected value='default'>Elige provincia</option>
                        <option value='alava'>Álava</option>
                        <option value='albacete'>Albacete</option>
                        <option value='alicante'>Alicante/Alacant</option>
                        <option value='almeria'>Almería</option>
                        <option value='asturias'>Asturias</option>
                        <option value='avila'>Ávila</option>
                        <option value='badajoz'>Badajoz</option>
                        <option value='barcelona'>Barcelona</option>
                        <option value='burgos'>Burgos</option>
                        <option value='caceres'>Cáceres</option>
                        <option value='cadiz'>Cádiz</option>
                        <option value='cantabria'>Cantabria</option>
                        <option value='castellon'>Castellón</option>
                        <option value='ceuta'>Ceuta</option>
                        <option value='ciudadreal'>Ciudad Real</option>
                        <option value='cordoba'>Córdoba</option>
                        <option value='cuenca'>Cuenca</option>
                        <option value='girona'>Girona</option>
                        <option value='laspalmas'>Las Palmas</option>
                        <option value='granada'>Granada</option>
                        <option value='guadalajara'>Guadalajara</option>
                        <option value='guipuzcoa'>Guipúzcoa</option>
                        <option value='huelva'>Huelva</option>
                        <option value='huesca'>Huesca</option>
                        <option value='illesbalears'>Illes Balears</option>
                        <option value='jaen'>Jaén</option>
                        <option value='acoruña'>A Coruña</option>
                        <option value='larioja'>La Rioja</option>
                        <option value='leon'>León</option>
                        <option value='lleida'>Lleida</option>
                        <option value='lugo'>Lugo</option>
                        <option value='madrid'>Madrid</option>
                        <option value='malaga'>Málaga</option>
                        <option value='melilla'>Melilla</option>
                        <option value='murcia'>Murcia</option>
                        <option value='navarra'>Navarra</option>
                        <option value='ourense'>Ourense</option>
                        <option value='palencia'>Palencia</option>
                        <option value='pontevedra'>Pontevedra</option>
                        <option value='salamanca'>Salamanca</option>
                        <option value='segovia'>Segovia</option>
                        <option value='sevilla'>Sevilla</option>
                        <option value='soria'>Soria</option>
                        <option value='tarragona'>Tarragona</option>
                        <option value='santacruztenerife'>Santa Cruz de Tenerife</option>
                        <option value='teruel'>Teruel</option>
                        <option value='toledo'>Toledo</option>
                        <option value='valencia'>Valencia</option>
                        <option value='valladolid'>Valladolid</option>
                        <option value='vizcaya'>Vizcaya</option>
                        <option value='zamora'>Zamora</option>
                        <option value='zaragoza'>Zaragoza</option>
                    </select>
                  
              </div>
              <!--
                <label id="prov-error" class="error2" for="login-prov"></label>
              -->
            </div>




            <button type="submit" id="submit-btn" class="btn my-3 btn-primary">Enviar</button>
        </form>

        <div class="correcto bg-success p-3 rounded">Formulario enviado correctamente</div>
        <div class="incorrecto bg-danger p-3 rounded">Formulario no válido</div>

    </div>

</div>
    
<script>

$(document).ready(function(){


jQuery.validator.addMethod("specialpsw", function(value, element) {
  // regexp para 2 digitos y un caracter especial
  return this.optional( element ) || /^(?=(.*\d){2})(?=.*[a-zA-Z])(?=.*[!@#$%])[0-9a-zA-Z!@#$%]{8,}/.test( value );
}, 'La contraseña debe incluir 2 dígitos y un caracter especial');

jQuery.validator.addMethod("notEqual", function(value, element, param) {
  return this.optional(element) || value !== param;
}, "Debes seleccionar una provincia");



$("#form-login").validate({
    rules: {
      "login-email": {required: true, email: true},
      "login-password": {required: true, minlength: 8, specialpsw: true} ,
      "repeat-password": {required: true, equalTo: "#passorig"},
      "login-prov": {notEqual: "default"},
    },
    messages: {
      "login-email": {required: "Te has olvidado de introducir el email", email: "Formato de correo inválido"},
      "login-password": {required: "Introduce una contraseña", minlength: "La contraseña debe tener al menos 8 caracteres"},
      "repeat-password": {required: "Repite la contraseña ", equalTo: "Las contraseñas no coinciden"},
    }
  });



  $('#form-login').on('submit', function(e) {

    if ($('#form-login').valid()) {
      event.preventDefault();
      $('.correcto').css("display","block");
      //form.submit();
    } else {
      $('.incorrecto').css("display","block");
    };


});

//eliminar divs de correcte o incorrecte amb nou input

$(':input').on({
  keydown: function(){
  $('.incorrecto').css("display","none");
  $('.correcto').css("display","none");
  },
  change: function(){
    $('.incorrecto').css("display","none");
  $('.correcto').css("display","none");  
  }
})

});    




</script>

</body>


</html>